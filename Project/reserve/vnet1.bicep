param location string = resourceGroup().location //de locatie die gekoppeld is aan de resourcegroup
param networkName string = 'Vnet1-Web'
param subnetName string = 'Subnet1-Web'
param networkSecurityGroupName string = 'nsg1-Web'
param vnetAddressPrefix string = '10.10.10.0/24'
param subnetAddressPrefix string = '10.10.10.0/24'




/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//vnet 1 
resource vnet_1 'Microsoft.Network/virtualNetworks@2022-11-01' = {
  name: networkName
  location: location
  properties: {
    addressSpace: {
       addressPrefixes: [
        vnetAddressPrefix                        
       ]  
    }           
  }
}  


//////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////



//subnet1 van vnet1
resource subnet_1 'Microsoft.Network/virtualNetworks/subnets@2022-11-01' = {
  parent: vnet_1 
  name: subnetName 
  properties: {
     addressPrefix: subnetAddressPrefix
     networkSecurityGroup: {
       id: nsg_1.id
     }
    }
  }

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////



//nsg1 voor subnet1
resource nsg_1 'Microsoft.Network/networkSecurityGroups@2022-11-01' = {  
   location: location
   name: networkSecurityGroupName
   
 
 }
     

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


 




//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


output vnet1ResourceName string = vnet_1.name
output subnet1ResourceId string = subnet_1.id

